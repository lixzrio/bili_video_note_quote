# B站视频笔记引用 Chrome 插件

## 功能介绍

这是一个Chrome浏览器插件，可以在B站（哔哩哔哩）视频页面中，获取当前视频的标题和分享链接，并将其保存为Markdown格式的文件，方便用户进行笔记记录和引用。

## 主要功能

- **获取视频信息**：自动获取B站视频的标题和标准分享链接
- **保存为Markdown**：将视频信息保存为格式化的Markdown文件，文件名使用视频标题
- **一键复制链接**：快速复制视频链接到剪贴板
- **友好的用户界面**：简洁明了的操作界面，提供状态反馈

## 安装方法

### 开发模式安装

1. **下载插件代码**：将本仓库克隆或下载到本地
2. **打开Chrome扩展页面**：
   - 在Chrome浏览器中输入 `chrome://extensions/`
   - 或者点击右上角菜单 → 更多工具 → 扩展程序
3. **开启开发者模式**：在页面右上角切换"开发者模式"为开启状态
4. **加载已解压的扩展程序**：点击左上角的"加载已解压的扩展程序"按钮，选择插件代码所在的文件夹
5. **安装完成**：插件图标将出现在Chrome浏览器的扩展栏中

## 使用方法

1. **打开B站视频页面**：访问任何B站视频页面（如 `https://www.bilibili.com/video/BV1xx411c7mC/`）
2. **点击插件图标**：在Chrome扩展栏中点击B站视频笔记引用的插件图标
3. **查看视频信息**：插件会自动获取并显示当前视频的标题和链接
4. **保存为Markdown**：点击"保存为Markdown文件"按钮，选择保存位置，即可生成包含视频信息的Markdown文件
5. **复制链接**：点击"复制视频链接"按钮，可以快速复制视频链接到剪贴板

## 文件结构

```
bili_video_note_quote/
├── manifest.json        # 插件配置文件
├── background.js        # 后台脚本，处理文件下载等功能
├── content.js           # 内容脚本，在B站页面获取视频信息
├── fileUtils.js         # 文件处理工具函数
├── popup.html           # 插件弹出界面
├── popup.js             # 弹出界面的交互逻辑
├── images/              # 图标文件夹
│   ├── icon16.svg       # 16x16 图标
│   ├── icon48.svg       # 48x48 图标
│   └── icon128.svg      # 128x128 图标
└── README.md            # 说明文档
```

## 技术说明

### 权限说明

- `activeTab`: 访问当前活动标签页
- `scripting`: 注入脚本到B站页面
- `downloads`: 下载Markdown文件
- `storage`: 存储插件设置
- `*://*.bilibili.com/*`: 访问B站域名下的所有页面

### 核心功能实现

1. **视频信息获取**：通过多种方式（页面标题、DOM元素、元数据、JSON数据）获取视频标题和ID
2. **文件生成**：生成格式化的Markdown内容，包含视频标题、链接和元信息
3. **文件名处理**：自动清理视频标题，移除不适合作为文件名的字符
4. **用户交互**：提供简洁的界面，支持保存和复制操作

## 注意事项

1. 插件仅在B站视频页面有效
2. 保存文件时会弹出文件保存对话框，请选择合适的保存位置
3. 文件名会自动清理不合法字符，确保在不同操作系统上都能正常工作

## 更新日志

### v1.0
- 初始版本
- 实现视频信息获取功能
- 支持保存为Markdown文件
- 支持复制视频链接

## 许可证

MIT License
